<!DOCTYPE html><html lang=en><meta charset=UTF-8><meta content="IE=edge"http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1"name=viewport><title>FoxLoader</title><script src=zip.js></script><div><input class=zipinst id=resourcesFileInput type=file> <button class=zipinst onclick=uploadResource()>Upload the zip.flr file!</button></div><input class=zip id=zipFileInput type=file disabled> <button class=zip onclick=uploadZip() disabled>Load a .flz file!</button><div>Made by <a href=https://foxmoss.com/personal/ >foxmoss</a> from foxmoss@mediaology.com</div><h2>Game List</h2><ul id=fileList></ul><script>if (checkFileExists("zip.js")){document.querySelectorAll(".zipinst").forEach(element=>{element.remove();}); document.querySelectorAll(".zip").forEach(element=>{element.disabled=false;});}async function uploadResource(){const fileInput=document.getElementById('resourcesFileInput'); const file=fileInput.files[0]; makeFile("zip.js", await file.text())}async function checkFileExists(filePath){let fs=await new Promise((res)=>{window.webkitRequestFileSystem(window.TEMPORARY, 1024 * 1024 * 10, res);}); fs.root.getFile( filePath,{create: false}, function (fileEntry){return true;}, function (error){return false;});}function uploadZip(){const fileInput=document.getElementById('zipFileInput'); const file=fileInput.files[0]; if (!file){alert('Please select a zip file.'); return;}const reader=new FileReader(); reader.onload=function (e){const zipFile=new JSZip(); zipFile.loadAsync(e.target.result).then(function (zip){const fileList=document.getElementById('fileList'); zip.forEach(function (relativePath, zipEntry){if (!zipEntry.dir){zipEntry.async('blob').then(function (blob){if (zipEntry.name.includes("index.html")){const fileListItem=document.createElement('li'); const fileListLink=document.createElement('a'); const fileName=document.createTextNode(zipEntry.name); fileListLink.href="filesystem:" + document.URL + "temporary/" + zipEntry.name; fileListLink.appendChild(fileName); fileListItem.appendChild(fileListLink); fileList.appendChild(fileListItem);}makeFileBlob(zipEntry.name, blob);});}else{makeDir(zipEntry.name);}});});}; reader.readAsArrayBuffer(file);}async function makeFileBlob(fileName, content){let fs=await new Promise((res)=>{window.webkitRequestFileSystem(window.TEMPORARY, 1024 * 1024 * 10, res);}); await new Promise((res)=>{fs.root.getFile( fileName,{}, (fileEntry)=>{fileEntry.remove(res);}, res );}); return await new Promise((res)=>{fs.root.getFile(fileName,{create: true}, (fileEntry)=>{fileEntry.createWriter((fileWriter)=>{fileWriter.write(content); res(fileEntry.toURL());});});});}async function makeFile(fileName, content){let fs=await new Promise((res)=>{window.webkitRequestFileSystem(window.TEMPORARY, 1024 * 1024 * 10, res);}); await new Promise((res)=>{fs.root.getFile( fileName,{}, (fileEntry)=>{fileEntry.remove(res);}, res );}); return await new Promise((res)=>{fs.root.getFile(fileName,{create: true}, (fileEntry)=>{fileEntry.createWriter((fileWriter)=>{fileWriter.write(new Blob([content])); res(fileEntry.toURL());});});});}async function makeDir(name){let fs=await new Promise((res)=>{window.webkitRequestFileSystem(window.TEMPORARY, 1024 * 1024 * 10, res);}); fs.root.getDirectory( name,{create: true}, (directoryEntry)=>{});}async function scanFiles(){let fs=await new Promise((res)=>{window.webkitRequestFileSystem(window.TEMPORARY, 1024 * 1024 * 10, res);}); const fileList=document.getElementById('fileList'); if (fs.root.isDirectory){let directoryReader=fs.root.createReader(); let directoryContainer=document.createElement("ul"); fileList.appendChild(directoryContainer); directoryReader.readEntries((entries)=>{entries.forEach((entry)=>{if (entry.isDirectory){const li=document.createElement('li'); const a=document.createElement('a'); a.textContent=entry.name; a.href="filesystem:" + document.URL + "temporary/" + entry.name + "/index.html"; li.appendChild(a); fileList.appendChild(li);}});});}}scanFiles();</script>