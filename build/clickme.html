<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The entry point file</title>
</head>
<body>
    Drag the
    <a href="javascript:(function()%7Blet%20jsContent%20%3D%20%60%0A%0Aalert(1)%0A%0A%60%3B%0A%0Aasync%20function%20makeFile(fs%2C%20fileName%2C%20fileType%2C%20content)%20%7B%0A%20%20await%20new%20Promise((res)%20%3D%3E%20%7B%0A%20%20%20%20fs.root.getFile(%0A%20%20%20%20%20%20fileName%2C%0A%20%20%20%20%20%20%7B%7D%2C%0A%20%20%20%20%20%20(fileEntry)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20fileEntry.remove(res)%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20res%0A%20%20%20%20)%3B%0A%20%20%7D)%3B%0A%20%20return%20await%20new%20Promise((res)%20%3D%3E%20%7B%0A%20%20%20%20fs.root.getFile(fileName%2C%20%7B%20create%3A%20true%20%7D%2C%20(fileEntry)%20%3D%3E%20%7B%0A%20%20%20%20%20%20fileEntry.createWriter((fileWriter)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20fileWriter.write(new%20Blob(%5Bcontent%5D%2C%20%7B%20type%3A%20fileType%20%7D))%3B%0A%20%20%20%20%20%20%20%20res(fileEntry.toURL())%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D)%3B%0A%7D%0A%0Aasync%20function%20onInitFs(fs)%20%7B%0A%20%20let%20jsFile%20%3D%20await%20makeFile(fs%2C%20%22test.js%22%2C%20%22text%2Fjavascript%22%2C%20jsContent)%3B%0A%0A%20%20let%20htmlContent%20%3D%20%60%3C!DOCTYPE%20html%3E%3Chtml%20lang%3D%22en%22%3E%3Chead%3E%20%3Cmeta%20charset%3D%22UTF-8%22%2F%3E%20%3Cmeta%20http-equiv%3D%22X-UA-Compatible%22%20content%3D%22IE%3Dedge%22%2F%3E%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%22%2F%3E%20%3Ctitle%3EFoxLoader%3C%2Ftitle%3E%20%3Cscript%20src%3D%22zip.js%22%3E%3C%2Fscript%3E%3C%2Fhead%3E%3Cbody%3E%20%3Cdiv%3E%20%3Cinput%20type%3D%22file%22%20id%3D%22resourcesFileInput%22%20class%3D%22zipinst%22%3E%20%3Cbutton%20onclick%3D%22uploadResource()%3B%22%20class%3D%22zipinst%22%3EUpload%20the%20zip.flr%20file!%3C%2Fbutton%3E%20%3C%2Fdiv%3E%3Cinput%20type%3D%22file%22%20id%3D%22zipFileInput%22%20class%3D%22zip%22%20disabled%3E%20%3Cbutton%20onclick%3D%22uploadZip()%3B%22%20class%3D%22zip%22%20disabled%3ELoad%20a%20.flz%20file!%3C%2Fbutton%3E%20%3Cdiv%3EMade%20by%20%3Ca%20href%3D%22https%3A%2F%2Ffoxmoss.com%2Fpersonal%2F%22%3Efoxmoss%3C%2Fa%3E%20from%20foxmoss%40mediaology.com%3C%2Fdiv%3E%3Ch2%3EGame%20List%3C%2Fh2%3E%20%3Cul%20id%3D%22fileList%22%3E%3C%2Ful%3E%20%3Cscript%3EcheckFileExists(%22zip.js%22)%20.then(fileExists%3D%3E%7Bif%20(fileExists)%7Bdocument.querySelectorAll(%22.zipinst%22).forEach(element%3D%3E%7Belement.remove()%3B%7D)%3B%20document.querySelectorAll(%22.zip%22).forEach(element%3D%3E%7Belement.disabled%3Dfalse%3B%7D)%3B%7D%7D)%3B%20async%20function%20uploadResource()%7Bconst%20fileInput%3Ddocument.getElementById('resourcesFileInput')%3B%20const%20file%3DfileInput.files%5B0%5D%3B%20makeFile(%22zip.js%22%2C%20await%20file.text())%7Dfunction%20checkFileExists(filePath)%7Breturn%20new%20Promise((resolve%2C%20reject)%3D%3E%7Bwindow.webkitRequestFileSystem(%20window.TEMPORARY%2C%201024%20*%201024%20*%2010%2C%20function%20(fs)%7Bfs.root.getFile(%20filePath%2C%7Bcreate%3A%20false%7D%2C%20function%20(fileEntry)%7Bresolve(true)%3B%7D%2C%20function%20(error)%7Bresolve(false)%3B%7D)%3B%7D%2C%20function%20(error)%7Breject(error)%3B%7D)%3B%7D)%3B%7Dfunction%20uploadZip()%7Bconst%20fileInput%3Ddocument.getElementById('zipFileInput')%3B%20const%20file%3DfileInput.files%5B0%5D%3B%20if%20(!file)%7Balert('Please%20select%20a%20zip%20file.')%3B%20return%3B%7Dconst%20reader%3Dnew%20FileReader()%3B%20reader.onload%3Dfunction%20(e)%7Bconst%20zipFile%3Dnew%20JSZip()%3B%20zipFile.loadAsync(e.target.result).then(function%20(zip)%7Bconst%20fileList%3Ddocument.getElementById('fileList')%3B%20zip.forEach(function%20(relativePath%2C%20zipEntry)%7Bif%20(!zipEntry.dir)%7BzipEntry.async('blob').then(function%20(blob)%7Bif%20(zipEntry.name.includes(%22index.html%22))%7Bconst%20fileListItem%3Ddocument.createElement('li')%3B%20const%20fileListLink%3Ddocument.createElement('a')%3B%20const%20fileName%3Ddocument.createTextNode(zipEntry.name)%3B%20fileListLink.href%3D%22filesystem%3A%22%20%2B%20document.URL%20%2B%20%22temporary%2F%22%20%2B%20zipEntry.name%3B%20fileListLink.appendChild(fileName)%3B%20fileListItem.appendChild(fileListLink)%3B%20fileList.appendChild(fileListItem)%3B%7DmakeFileBlob(zipEntry.name%2C%20blob)%3B%7D)%3B%7Delse%7BmakeDir(zipEntry.name)%3B%7D%7D)%3B%7D)%3B%7D%3B%20reader.readAsArrayBuffer(file)%3B%7Dasync%20function%20makeFileBlob(fileName%2C%20content)%7Blet%20fs%3Dawait%20new%20Promise((res)%3D%3E%7Bwindow.webkitRequestFileSystem(window.TEMPORARY%2C%201024%20*%201024%20*%2010%2C%20res)%3B%7D)%3B%20await%20new%20Promise((res)%3D%3E%7Bfs.root.getFile(%20fileName%2C%7B%7D%2C%20(fileEntry)%3D%3E%7BfileEntry.remove(res)%3B%7D%2C%20res%20)%3B%7D)%3B%20return%20await%20new%20Promise((res)%3D%3E%7Bfs.root.getFile(fileName%2C%7Bcreate%3A%20true%7D%2C%20(fileEntry)%3D%3E%7BfileEntry.createWriter((fileWriter)%3D%3E%7BfileWriter.write(content)%3B%20res(fileEntry.toURL())%3B%7D)%3B%7D)%3B%7D)%3B%7Dasync%20function%20makeFile(fileName%2C%20content)%7Blet%20fs%3Dawait%20new%20Promise((res)%3D%3E%7Bwindow.webkitRequestFileSystem(window.TEMPORARY%2C%201024%20*%201024%20*%2010%2C%20res)%3B%7D)%3B%20await%20new%20Promise((res)%3D%3E%7Bfs.root.getFile(%20fileName%2C%7B%7D%2C%20(fileEntry)%3D%3E%7BfileEntry.remove(res)%3B%7D%2C%20res%20)%3B%7D)%3B%20return%20await%20new%20Promise((res)%3D%3E%7Bfs.root.getFile(fileName%2C%7Bcreate%3A%20true%7D%2C%20(fileEntry)%3D%3E%7BfileEntry.createWriter((fileWriter)%3D%3E%7BfileWriter.write(new%20Blob(%5Bcontent%5D))%3B%20res(fileEntry.toURL())%3B%7D)%3B%7D)%3B%7D)%3B%7Dasync%20function%20makeDir(name)%7Blet%20fs%3Dawait%20new%20Promise((res)%3D%3E%7Bwindow.webkitRequestFileSystem(window.TEMPORARY%2C%201024%20*%201024%20*%2010%2C%20res)%3B%7D)%3B%20fs.root.getDirectory(%20name%2C%7Bcreate%3A%20true%7D%2C%20(directoryEntry)%3D%3E%7B%7D)%3B%7Dasync%20function%20scanFiles()%7Blet%20fs%3Dawait%20new%20Promise((res)%3D%3E%7Bwindow.webkitRequestFileSystem(window.TEMPORARY%2C%201024%20*%201024%20*%2010%2C%20res)%3B%7D)%3B%20const%20fileList%3Ddocument.getElementById('fileList')%3B%20if%20(fs.root.isDirectory)%7Blet%20directoryReader%3Dfs.root.createReader()%3B%20let%20directoryContainer%3Ddocument.createElement(%22ul%22)%3B%20fileList.appendChild(directoryContainer)%3B%20directoryReader.readEntries((entries)%3D%3E%7Bentries.forEach((entry)%3D%3E%7Bif%20(entry.isDirectory)%7Bconst%20li%3Ddocument.createElement('li')%3B%20const%20a%3Ddocument.createElement('a')%3B%20a.textContent%3Dentry.name%3B%20a.href%3D%22filesystem%3A%22%20%2B%20document.URL%20%2B%20%22temporary%2F%22%20%2B%20entry.name%20%2B%20%22%2Findex.html%22%3B%20li.appendChild(a)%3B%20fileList.appendChild(li)%3B%7D%7D)%3B%7D)%3B%7D%7DscanFiles()%3B%20%3C%2Fscript%3E%3C%2Fbody%3E%3C%2Fhtml%3E%60%3B%0A%20%20let%20htmlFile%20%3D%20await%20makeFile(fs%2C%20%22test.html%22%2C%20%22text%2Fhtml%22%2C%20htmlContent)%3B%0A%0A%20%20prompt(%22Your%20finished%20persistence%20URL%3A%22%2C%20htmlFile)%3B%0A%7D%0A%0AwebkitRequestFileSystem(window.TEMPORARY%2C%201024*1024%2C%20onInitFs)%3B%7D)()%3B">FoxLauncher</a>
    bookmark into you bookmark bar.
</body>
</html>