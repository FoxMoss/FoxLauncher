(function()%7B(function()%257Basync%2520function%2520makeFile(fs%252CfileName%252CfileType%252Ccontent)%257Bawait%2520new%2520Promise(res%253D%253E%257Bfs.root.getFile(fileName%252C%257B%257D%252CfileEntry%253D%253E%257BfileEntry.remove(res)%257D%252Cres)%257D)%253Breturn%2520await%2520new%2520Promise(res%253D%253E%257Bfs.root.getFile(fileName%252C%257Bcreate%253Atrue%257D%252CfileEntry%253D%253E%257BfileEntry.createWriter(fileWriter%253D%253E%257BfileWriter.write(new%2520Blob(%255Bcontent%255D%252C%257Btype%253AfileType%257D))%253Bres(fileEntry.toURL())%257D)%257D)%257D)%257Dasync%2520function%2520onInitFs(fs)%257Blet%2520htmlFile%253Dawait%2520makeFile(fs%252C%2522index.html%2522%252C%2522text%252Fhtml%2522%252C%2560%253C!doctype%2520html%253E%253Chtml%2520lang%253Den%253E%253Cmeta%2520charset%253Dutf-8%253E%253Cmeta%2520http-equiv%253Dx-ua-compatible%2520content%253D%2522IE%253Dedge%2522%253E%253Cmeta%2520name%253Dviewport%2520content%253D%2522width%253Ddevice-width%252Cinitial-scale%253D1%2522%253E%253Ctitle%253EFoxLauncher%253C%252Ftitle%253E%253Cscript%2520src%253Dzip.js%253E%253C%252Fscript%253E%250A%253Cscript%2520src%253D.%252Fpayload.js%253E%253C%252Fscript%253E%250A%253Clink%2520rel%253Dstylesheet%2520href%253Dpayload.css%253E%253Cdiv%2520class%253Dcontent%253E%253Cdiv%2520class%253Dborder%253E%253Ch1%253EFoxLauncher%253C%252Fh1%253E%253Cdiv%2520class%253Dtextcontent%253EMade%2520by%2520%253Ca%2520href%253Dhttps%253A%252F%252Ffoxmoss.com%252Fpersonal%252F%253Efoxmoss%253C%252Fa%253E%2520from%250A%253Ca%2520href%253Dmailto%253Afoxmoss%2540mediaology.com%253Efoxmoss%2540mediaology.com%253C%252Fa%253E.%253Cbr%253ERead%2520the%2520documentation%2520at%2520%253Ca%2520href%253Dhttps%253A%252F%252Ffoxmoss.com%252Ffoxlauncher%253Efoxmoss.com%252Ffoxlauncher%253C%252Fa%253E%253C%252Fdiv%253E%253Cdiv%253E%253Clabel%2520class%253D%2522resourcesFileUpload%2520upload%2520zipinst%2522%253E%253Cinput%2520type%253Dfile%2520id%253DresourcesFileInput%253E%250AUpload%2520.flr%253C%252Flabel%253E%250A%253Cbutton%2520id%253Dflr%2520class%253Dzipinst%253EUpload%2520the%2520zip.flr%2520file!%253C%252Fbutton%253E%253C%252Fdiv%253E%253Clabel%2520class%253D%2522zipFileUpload%2520upload%2520zip%2522%2520disabled%253E%253Cinput%2520type%253Dfile%2520id%253DzipFileInput%2520class%253Dzip%2520disabled%253E%250AUpload%2520.flz%253C%252Flabel%253E%250A%253Cbutton%2520id%253Dflz%2520class%253Dzip%2520disabled%253ELoad%2520a%2520.flz%2520file!%253C%252Fbutton%253E%253Ch3%253EGame%2520Bookmarks%253A%253C%252Fh3%253E%253Cul%2520id%253DfileList%253E%253C%252Ful%253E%253Ch3%253EPermissions%253A%253C%252Fh3%253E%253Cul%2520id%253DpermList%253E%253C%252Ful%253E%253C%252Fdiv%253E%253C%252Fdiv%253E%250A%2560)%253Bawait%2520makeFile(fs%252C%2522payload.js%2522%252C%2522text%252Fjs%2522%252C%2560window.addEventListener(%2522DOMContentLoaded%2522%252Cevent%253D%253E%257Bdocument.getElementById(%2522flr%2522).addEventListener(%2522click%2522%252CuploadResource)%253Bdocument.getElementById(%2522flz%2522).addEventListener(%2522click%2522%252CuploadZip)%253BcheckFileExists(%2522zip.js%2522).then(fileExists%253D%253E%257Bif(fileExists)%257Bdocument.querySelectorAll(%2522.zipinst%2522).forEach(element%253D%253E%257Belement.remove()%257D)%253Bdocument.querySelectorAll(%2522.zip%2522).forEach(element%253D%253E%257Belement.disabled%253Dfalse%257D)%257D%257D)%253BscanFiles()%253BscanPerms()%257D)%253Bvar%2520specialPerms%253D%255B%255D%253Basync%2520function%2520uploadResource()%257Bconst%2520fileInput%253Ddocument.getElementById(%2522resourcesFileInput%2522)%253Bconst%2520file%253DfileInput.files%255B0%255D%253BmakeFile(%2522zip.js%2522%252Cawait%2520file.text())%253Balert(%2522Reload%2520this%2520tab.%2522)%257Dfunction%2520checkFileExists(filePath)%257Breturn%2520new%2520Promise((resolve%252Creject)%253D%253E%257Bwindow.webkitRequestFileSystem(window.TEMPORARY%252C1024*1024*10%252Cfunction(fs)%257Bfs.root.getFile(filePath%252C%257Bcreate%253Afalse%257D%252Cfunction(fileEntry)%257Bresolve(true)%257D%252Cfunction(error)%257Bresolve(false)%257D)%257D%252Cfunction(error)%257Breject(error)%257D)%257D)%257Dfunction%2520grabIndices(zip)%257Blet%2520ret%253D%255B%255D%253Bfor(file%2520in%2520zip.files)%257Bif(file.includes(%2522index.html%2522))%257Bret.push(zip.files%255Bfile%255D)%257D%257Dreturn%2520ret%257Dfunction%2520uploadZip()%257Bconst%2520fileInput%253Ddocument.getElementById(%2522zipFileInput%2522)%253Bconst%2520file%253DfileInput.files%255B0%255D%253Bif(!file)%257Balert(%2522Please%2520select%2520a%2520zip%2520file.%2522)%253Breturn%257Dconst%2520reader%253Dnew%2520FileReader%253Breader.onload%253Dasync%2520function(e)%257Bconst%2520zipFile%253Dnew%2520JSZip%253Blet%2520blobs%253D%257B%257D%253Blet%2520shouldLoad%253Dfalse%253Bawait%2520zipFile.loadAsync(e.target.result).then(async%2520function(zip)%257Bconst%2520fileList%253Ddocument.getElementById(%2522fileList%2522)%253Blet%2520indexEntries%253DgrabIndices(zip)%253Bfor(fileName%2520in%2520zip.files)%257Bif(!zip.files%255BfileName%255D.dir)%257Blet%2520blob%253Dawait%2520zip.files%255BfileName%255D.async(%2522blob%2522)%253Bif(zip.files%255BfileName%255D.name.includes(%2522config.flc%2522))%257BshouldLoad%253DcheckConf(await%2520zip.files%255BfileName%255D.async(%2522text%2522))%257Dblobs%255Bzip.files%255BfileName%255D.name%255D%253Dblob%257Delse%257BmakeDir(zip.files%255BfileName%255D.name)%257D%257Dif(!await%2520shouldLoad)%257Balert(%2522Permissions%2520are%2520probably%2520wrong!%2522)%253Breturn%257Dfor(blob%2520in%2520blobs)%257BmakeFileBlob(blob%252Cblobs%255Bblob%255D)%257Dfor(index%2520in%2520indexEntries)%257Bconst%2520fileListItem%253Ddocument.createElement(%2522li%2522)%253Bconst%2520fileListLink%253Ddocument.createElement(%2522a%2522)%253Bconst%2520fileName%253Ddocument.createTextNode(indexEntries%255Bindex%255D.name.replace(%2522%252Findex.html%2522%252C%2522%2522))%253BfileListLink.href%253D%2522filesystem%253A%2522%252Bwindow.location.origin%252B%2522%252Ftemporary%252F%2522%252BindexEntries%255Bindex%255D.name%253BfileListLink.appendChild(fileName)%253BfileListItem.appendChild(fileListLink)%253BfileList.appendChild(fileListItem)%257D%257D)%257D%253Breader.readAsArrayBuffer(file)%257Dfunction%2520checkPerms(requiredPerms)%257Breturn%2520new%2520Promise(resolve%253D%253E%257BrequiredPerms.forEach(perm%253D%253E%257Bif(!specialPerms.includes(perm.textContent))%257Bresolve(false)%257D%257D)%253Bresolve(true)%257D)%257Dasync%2520function%2520checkConf(conf)%257Blet%2520parser%253Dnew%2520DOMParser%253Blet%2520confDoc%253Dparser.parseFromString(conf%252C%2522text%252Fxml%2522)%253Blet%2520requiredPerms%253DconfDoc.querySelectorAll(%2522SETTINGS%2520%253E%2520PERMISSIONS%2520%253E%2520PERM%2522)%253Breturn%2520await%2520checkPerms(requiredPerms)%257Dfunction%2520getAllPerms()%257Breturn%2520new%2520Promise(resolve%253D%253E%257Bchrome.permissions.getAll(response%253D%253Eresolve(response%255B%2522permissions%2522%255D))%257D)%257Dasync%2520function%2520scanPerms()%257Bconst%2520permList%253Ddocument.getElementById(%2522permList%2522)%253Btry%257BspecialPerms%253Dawait%2520getAllPerms()%253BspecialPerms.push(%2522boykisser%2522)%257Dcatch(error)%257BspecialPerms%253D%255B%2522boykisser%2522%255D%257DspecialPerms.forEach(perm%253D%253E%257Bconst%2520permListItem%253Ddocument.createElement(%2522li%2522)%253Bconst%2520permName%253Ddocument.createTextNode(perm)%253BpermListItem.appendChild(permName)%253BpermList.appendChild(permListItem)%257D)%257Dasync%2520function%2520makeFileBlob(fileName%252Ccontent)%257Blet%2520fs%253Dawait%2520new%2520Promise(res%253D%253E%257Bwindow.webkitRequestFileSystem(window.TEMPORARY%252C1024*1024*10%252Cres)%257D)%253Bawait%2520new%2520Promise(res%253D%253E%257Bfs.root.getFile(fileName%252C%257B%257D%252CfileEntry%253D%253E%257BfileEntry.remove(res)%257D%252Cres)%257D)%253Breturn%2520await%2520new%2520Promise(res%253D%253E%257Bfs.root.getFile(fileName%252C%257Bcreate%253Atrue%257D%252CfileEntry%253D%253E%257BfileEntry.createWriter(fileWriter%253D%253E%257BfileWriter.write(content)%253Bres(fileEntry.toURL())%257D)%257D)%257D)%257Dasync%2520function%2520makeFile(fileName%252Ccontent)%257Blet%2520fs%253Dawait%2520new%2520Promise(res%253D%253E%257Bwindow.webkitRequestFileSystem(window.TEMPORARY%252C1024*1024*10%252Cres)%257D)%253Bawait%2520new%2520Promise(res%253D%253E%257Bfs.root.getFile(fileName%252C%257B%257D%252CfileEntry%253D%253E%257BfileEntry.remove(res)%257D%252Cres)%257D)%253Breturn%2520await%2520new%2520Promise(res%253D%253E%257Bfs.root.getFile(fileName%252C%257Bcreate%253Atrue%257D%252CfileEntry%253D%253E%257BfileEntry.createWriter(fileWriter%253D%253E%257BfileWriter.write(new%2520Blob(%255Bcontent%255D))%253Bres(fileEntry.toURL())%257D)%257D)%257D)%257Dasync%2520function%2520makeDir(name)%257Blet%2520fs%253Dawait%2520new%2520Promise(res%253D%253E%257Bwindow.webkitRequestFileSystem(window.TEMPORARY%252C1024*1024*10%252Cres)%257D)%253Bfs.root.getDirectory(name%252C%257Bcreate%253Atrue%257D%252CdirectoryEntry%253D%253E%257B%257D)%257Dasync%2520function%2520scanFiles()%257Blet%2520fs%253Dawait%2520new%2520Promise(res%253D%253E%257Bwindow.webkitRequestFileSystem(window.TEMPORARY%252C1024*1024*10%252Cres)%257D)%253Bconst%2520fileList%253Ddocument.getElementById(%2522fileList%2522)%253Blet%2520directoryReader%253Dfs.root.createReader()%253Blet%2520directoryContainer%253Ddocument.createElement(%2522ul%2522)%253BfileList.appendChild(directoryContainer)%253BdirectoryReader.readEntries(entries%253D%253E%257Bentries.forEach(entry%253D%253E%257Bif(entry.isDirectory)%257Bconst%2520fileListItem%253Ddocument.createElement(%2522li%2522)%253Bconst%2520fileListLink%253Ddocument.createElement(%2522a%2522)%253Bconst%2520fileName%253Ddocument.createTextNode(entry.name)%253BfileListLink.href%253D%2522filesystem%253A%2522%252Bwindow.location.origin%252B%2522%252Ftemporary%252F%2522%252Bentry.name%252B%2522%252Findex.html%2522%253BfileListLink.appendChild(fileName)%253BfileListItem.appendChild(fileListLink)%253BfileList.appendChild(fileListItem)%257D%257D)%257D)%257D%250A%2560)%253Bawait%2520makeFile(fs%252C%2522payload.css%2522%252C%2522text%252Fjs%2522%252C%2560html%252C%250Abody%2520%257B%250A%2520%2520width%253A%2520100%2525%253B%250A%2520%2520height%253A%2520100%2525%253B%250A%2520%2520background%253A%2520repeating-linear-gradient(%250A%2520%2520%2520%252090deg%252C%250A%2520%2520%2520%2520rgba(195%252C%2520255%252C%2520152%252C%25201)%25200%2525%252C%250A%2520%2520%2520%2520rgba(109%252C%2520128%252C%2520250%252C%25201)%252033%2525%252C%250A%2520%2520%2520%2520rgba(238%252C%2520143%252C%2520203%252C%25201)%252066%2525%252C%250A%2520%2520%2520%2520rgba(195%252C%2520255%252C%2520152%252C%25201)%2520100%2525%250A%2520%2520)%253B%250A%250A%2520%2520background-size%253A%2520200%2525%2520200%2525%253B%250A%2520%2520margin%253A%25200%253B%250A%2520%2520padding%253A%25200%253B%250A%2520%2520animation%253A%2520BgDrift%252020s%2520linear%2520infinite%253B%2520%252F*%2520FF%2520be%2520damned%2520*%252F%250A%257D%250A%250A%2540keyframes%2520BgDrift%2520%257B%250A%2520%25200%2525%2520%257B%250A%2520%2520%2520%2520background-position%253A%25200%2525%25200%2525%253B%250A%2520%2520%257D%250A%2520%252050%2525%2520%257B%250A%2520%2520%2520%2520background-position%253A%2520100%2525%252050%2525%253B%250A%2520%2520%257D%250A%2520%2520100%2525%2520%257B%250A%2520%2520%2520%2520background-position%253A%2520200%2525%2520100%2525%253B%250A%2520%2520%257D%250A%257D%250A%250A.content%2520%257B%250A%2520%2520margin-left%253A%252030%2525%253B%250A%2520%2520margin-right%253A%252030%2525%253B%250A%2520%2520padding-top%253A%252010%2525%253B%250A%257D%250A%250A.border%2520%257B%250A%2520%2520box-shadow%253A%25200%25200%252015px%252010px%2520%25231f102a%253B%250A%2520%2520background%253A%2520repeating-linear-gradient(%250A%2520%2520%2520%25200deg%252C%250A%2520%2520%2520%2520rgba(27%252C%2520156%252C%2520149%252C%25201)%25200%2525%252C%250A%2520%2520%2520%2520rgba(201%252C%2520115%252C%2520115%252C%25201)%252033%2525%252C%250A%2520%2520%2520%2520rgba(166%252C%2520133%252C%2520159%252C%25201)%252066%2525%252C%250A%2520%2520%2520%2520rgba(27%252C%2520156%252C%2520149%252C%25201)%2520100%2525%250A%2520%2520)%253B%250A%2520%2520font-family%253A%2520Verdana%252C%2520sans-serif%253B%250A%2520%2520background-size%253A%2520200%2525%2520200%2525%253B%250A%2520%2520padding%253A%252010px%253B%250A%2520%2520color%253A%2520%2523ffc3f2%253B%250A%250A%2520%2520animation%253A%2520ContentDrift%252040s%2520linear%2520infinite%253B%2520%252F*%2520FF%2520be%2520damned%2520*%252F%250A%257D%250A%250A%2540keyframes%2520ContentDrift%2520%257B%250A%2520%25200%2525%2520%257B%250A%2520%2520%2520%2520background-position%253A%25200%2525%25200%2525%253B%250A%2520%2520%257D%250A%2520%252050%2525%2520%257B%250A%2520%2520%2520%2520background-position%253A%2520100%2525%2520100%2525%253B%250A%2520%2520%257D%250A%2520%2520100%2525%2520%257B%250A%2520%2520%2520%2520background-position%253A%2520200%2525%2520200%2525%253B%250A%2520%2520%257D%250A%257D%250Ainput%255Btype%253D%2522file%2522%255D%2520%257B%250A%2520%2520display%253A%2520none%253B%250A%257D%250A%250A.upload%2520%257B%250A%2520%2520border%253A%25201px%2520solid%2520%2523ee8fcb%253B%250A%2520%2520display%253A%2520inline-block%253B%250A%2520%2520padding%253A%252010px%253B%250A%2520%2520cursor%253A%2520pointer%253B%250A%2520%2520margin-bottom%253A%252010px%253B%250A%257D%250A%250A.upload%253Ahover%2520%257B%250A%2520%2520background-color%253A%2520rgba(238%252C%2520143%252C%2520203%252C%25200.5)%253B%250A%257D%250A%250A.upload%255Bdisabled%255D%2520%257B%250A%2520%2520opacity%253A%25200.6%253B%250A%2520%2520cursor%253A%2520default%253B%250A%257D%250Abutton%2520%257B%250A%2520%2520border%253A%25201px%2520solid%2520%2523ee8fcb%253B%250A%2520%2520background-color%253A%2520%2523ee8fcb%253B%250A%2520%2520display%253A%2520inline-block%253B%250A%2520%2520padding%253A%252010px%253B%250A%2520%2520cursor%253A%2520pointer%253B%250A%2520%2520color%253A%2520%25235a3271%253B%250A%257D%250Abutton%255Bdisabled%255D%2520%257B%250A%2520%2520opacity%253A%25200.6%253B%250A%2520%2520cursor%253A%2520default%253B%250A%257D%250Abutton%253Ahover%2520%257B%250A%2520%2520background-color%253A%2520rgba(238%252C%2520143%252C%2520203%252C%25200.5)%253B%250A%257D%250A.textcontent%2520%257B%250A%2520%2520padding-bottom%253A%252020px%253B%250A%257D%250Aa%2520%257B%250A%2520%2520%2520%2520color%253A%2520%252399e65f%253B%250A%257D%250Aa%253Avisited%250A%257B%250A%2520%2520%2520%2520color%253A%2520%252330a15f%253B%250A%257D%250A%2560)%253Bprompt(%2522Your%2520finished%2520persistence%2520URL%253A%2522%252ChtmlFile)%257DwebkitRequestFileSystem(window.TEMPORARY%252C1024*1024%252ConInitFs)%253B%257D)()%253B%7D)()%3B
